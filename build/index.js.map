{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAuD;AACG;;AAE1D;AACA;AACA,MAAME,oBAAoB,GAAGA,CAAEC,KAAK,EAAEC,SAAS,EAAEC,UAAU,KAAM;EAChE;EACA,MAAMC,MAAM,GACXF,SAAS,EAAEG,EAAE,IAAIJ,KAAK,CAACK,IAAI,CAAIC,IAAI,IAAMA,IAAI,CAACJ,UAAU,CAAC,KAAKD,SAAU,CAAC,EAAEG,EAAE;EAC9E,IAAKD,MAAM,EAAG;IACb,OAAOA,MAAM;EACd;;EAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACC,MAAMI,cAAc,GAAGN,SAAS,CAACO,iBAAiB,CAAC,CAAC;EACpD,OAAOR,KAAK,CAACK,IAAI,CACdC,IAAI,IAAMA,IAAI,CAACJ,UAAU,CAAC,CAACM,iBAAiB,CAAC,CAAC,KAAKD,cACtD,CAAC,EAAEH,EAAE;AACN,CAAC;;AAED;AACO,MAAMK,YAAY,GAAGA,CAAE;EAAEC,cAAc;EAAEV,KAAK;EAAEW,KAAK;EAAEC,QAAQ;EAAEV;AAAW,CAAC,KAAM;EAEzF,IAAK,CAAEF,KAAK,EAAEa,MAAM,EAAG;IACtB,OAAO,IAAI;EACZ;EAEA,MAAMC,aAAa,GAAKC,aAAa,IAAM;IAC1C,MAAMC,OAAO,GAAG,IAAIC,GAAG,CAAC,CAAC;IACnB,MAAMC,UAAU,GAAG,IAAID,GAAG,CAAC,CAAC;IAClC,KAAM,MAAMhB,SAAS,IAAIc,aAAa,EAAG;MACxC,MAAMZ,MAAM,GAAGJ,oBAAoB,CAAEC,KAAK,EAAEC,SAAS,EAAEC,UAAW,CAAC;MAEnE,IAAKC,MAAM,EAAG;QACba,OAAO,CAACG,GAAG,CAAEhB,MAAO,CAAC;QACT;QACAe,UAAU,CAACC,GAAG,CAAElB,SAAS,CAACU,KAAK,GAAGV,SAAS,CAACU,KAAK,GAAGV,SAAU,CAAC;MAC5E;IACD;IAEAW,QAAQ,CAAEQ,KAAK,CAACC,IAAI,CAAEL,OAAQ,CAAE,CAAC;EAClC,CAAC;;EAEE;EACH;EACA;EACA,MAAMM,UAAU,GAAGX,KAAK,CACpBY,GAAG,CAAIpB,MAAM,IAAMH,KAAK,CAACK,IAAI,CAAImB,CAAC,IAAMA,CAAC,CAACpB,EAAE,KAAKD,MAAO,CAAE,CAAC,CAC3DsB,MAAM,CAAEC,OAAQ,CAAC,CACjBH,GAAG,CAAIjB,IAAI,KAAQ;IAAEF,EAAE,EAAEE,IAAI,CAACF,EAAE;IAAEO,KAAK,EAAEb,wEAAc,CAAEQ,IAAI,CAACJ,UAAU,CAAE;EAAE,CAAC,CAAG,CAAC;EAErF,OACCyB,oDAAA;IAAKC,SAAS,EAAC;EAAiD,GAC/DD,oDAAA,CAAC9B,iEAAc;IACdgC,KAAK,EAAGnB,cAAgB;IACxBC,KAAK,EAAGW,UAAY;IACpBQ,WAAW,EAAG9B,KAAK,CAACuB,GAAG,CAAIC,CAAC,IAAMA,CAAC,CAACtB,UAAU,CAAE,CAAG;IACnDU,QAAQ,EAAGE;EAAe,CAC1B,CACG,CAAC;AAER,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrED;AACA;AACA;AACA;AACA;AACqC;AACO;;AAE5C;AACA;AACA;AACA;AACA;AACA;;AAE4C;AACY;AACL;AACwB;AACkB;AAC/C;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS4B,IAAIA,CAAC;EAAEC,UAAU;EAAEC;AAAc,CAAC,EAAE;EAC3D,MAAMC,UAAU,GAAGT,sEAAa,CAAC,CAAC;EAElC,MAAM;IAAEU,aAAa;IAAEC,UAAU;IAAEC,oBAAoB;IAAEnB,KAAK;IAAEoB,SAAS;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAAGR,UAAU;EAE5G,MAAMS,KAAK,GAAG;IACbC,QAAQ,EAAE,CAAC,CAAC;IACZC,SAAS,EAAE,IAAI;IACfC,OAAO,EAAE;EACV,CAAC;EAED,MAAMC,UAAU,GAAG,CAClB;IAAE3B,KAAK,EAAE,iBAAiB;IAAElB,KAAK,EAAE;EAAS,CAAC,EAC7C;IAAEkB,KAAK,EAAE,uBAAuB;IAAElB,KAAK,EAAE;EAAa,CAAC,CACvD;EAED,MAAM;IAAE8C,OAAO,EAAEC;EAAW,CAAC,GAAGzB,sEAAgB,CAC/C,UAAU,EACV,UAAU,EACVmB,KACD,CAAC;EAED,MAAM;IAAEK,OAAO,EAAEE;EAAK,CAAC,GAAG1B,sEAAgB,CACzC,UAAU,EACV,UAAU,EACVmB,KACD,CAAC;;EAED;EACA;EACA,MAAMQ,UAAU,GAAG5B,0DAAS,CAC1B6B,MAAM,IAAK;IACX,MAAMD,UAAU,GAAG,EAAE;IAErB,IAAIX,SAAS,EAAE;MACd,KAAK,MAAM9C,MAAM,IAAI2C,aAAa,EAAE;QACnC,MAAMM,KAAK,GAAG;UAAEU,MAAM,EAAE3D,MAAM;UAAEkD,QAAQ,EAAE,CAAC;QAAE,CAAC;QAC9C,MAAMU,YAAY,GAAGF,MAAM,CAAC,MAAM,CAAC,CAACG,gBAAgB,CAAC,UAAU,EAAEhB,oBAAoB,EAAEI,KAAK,CAAC;QAC7F,IAAIhC,KAAK,CAAC6C,OAAO,CAACF,YAAY,CAAC,EAAE;UAChCH,UAAU,CAACM,IAAI,CAAC,GAAGH,YAAY,CAAC;QACjC;MACD;IACD,CAAC,MAAM;MACN,MAAMX,KAAK,GAAG;QAAEC,QAAQ,EAAE,CAAC,CAAC;QAAEc,OAAO,EAAErB;MAAc,CAAC;MACtD,MAAMiB,YAAY,GAAGF,MAAM,CAAC,MAAM,CAAC,CAACG,gBAAgB,CAAC,UAAU,EAAEhB,oBAAoB,EAAEI,KAAK,CAAC;MAC7F,IAAIhC,KAAK,CAAC6C,OAAO,CAACF,YAAY,CAAC,EAAE;QAChCH,UAAU,CAACM,IAAI,CAAC,GAAGH,YAAY,CAAC;MACjC;IACD;IACA,OAAOH,UAAU;EAClB,CAAC,EACD,CAACd,aAAa,EAAEG,SAAS,EAAED,oBAAoB,CAChD,CAAC;EAED,MAAMoB,aAAa,GAAGlC,iEAAa,CAACQ,IAAI,CAAC;EAEzC,IAAI,IAAI,KAAKgB,UAAU,IAAI,IAAI,KAAKC,IAAI,EAAE;IACzC;EACD;EAEA,IAAI,EAAE,KAAKX,oBAAoB,EAAE;IAChCJ,aAAa,CAAC;MAAEI,oBAAoB,EAAE;IAAW,CAAC,CAAC;EACpD;EAEA,IAAI,IAAI,KAAKD,UAAU,EAAE;IACxBH,aAAa,CAAC;MAAEG,UAAU,EAAEqB;IAAc,CAAC,CAAC;EAC7C;EAEA,OACCzC,oDAAA,CAACc,wDAAQ,QACRd,oDAAA,CAACQ,sEAAiB,QACjBR,oDAAA,CAACU,4DAAS;IAACgC,KAAK,EAAC,UAAU;IAACC,WAAW,EAAE;EAAK,GAC7C3C,oDAAA,CAACW,gEAAa;IACbT,KAAK,EAAC,eAAe;IACrBlB,KAAK,EAAEqC,oBAAqB;IAC5BuB,OAAO,EAAE,CACR;MAAE1C,KAAK,EAAE,UAAU;MAAElB,KAAK,EAAE;IAAW,CAAC,EACxC;MAAEkB,KAAK,EAAE,KAAK;MAAElB,KAAK,EAAE;IAAW,CAAC,CAClC;IACFC,QAAQ,EAAG4D,OAAO,IAAK;MACtB5B,aAAa,CAAC;QACbI,oBAAoB,EAAEwB,OAAO;QAC7B1B,aAAa,EAAE;MAChB,CAAC,CAAC;IACH,CAAE;IACF2B,uBAAuB;EAAA,CACvB,CAAC,EACD,UAAU,KAAKzB,oBAAoB,GACnCrB,oDAAA,CAACa,gEAAa;IACbX,KAAK,EAAC,kBAAkB;IACxB6C,OAAO,EAAEvB,OAAQ;IACjBvC,QAAQ,EAAEA,CAAA,KAAM;MACfgC,aAAa,CAAC;QAAEO,OAAO,EAAE,CAACA;MAAQ,CAAC,CAAC;IACrC;EAAE,CACF,CAAC,GACC,EAAE,EACL,UAAU,KAAKH,oBAAoB,IAAIG,OAAO,GAAG,EAAE,GACnDxB,oDAAA,CAAClB,qDAAY;IACZkE,GAAG,EAAE3B,oBAAqB;IAC1BtC,cAAc,EAAE,UAAU,KAAKsC,oBAAoB,GAAG,MAAM,GAAG,YAAa;IAC5E9C,UAAU,EAAC,MAAM;IACjBF,KAAK,EAAE,UAAU,KAAKgD,oBAAoB,GAAGW,IAAI,GAAGD,UAAW;IAC/D/C,KAAK,EAAEmC,aAAc;IACrBlC,QAAQ,EAAEZ,KAAK,IAAI;MAClB4C,aAAa,CAAC;QACbE,aAAa,EAAE9C;MAChB,CAAC,CAAC;IACH;EAAE,CACF,CACD,EACA,UAAU,KAAKgD,oBAAoB,GACnCrB,oDAAA,CAACa,gEAAa;IACbX,KAAK,EAAC,uBAAuB;IAC7B+C,IAAI,EACH3B,SAAS,GACN,kFAAkF,GAClF,4DACH;IACDyB,OAAO,EAAEzB,SAAU;IACnBrC,QAAQ,EAAGiE,YAAY,IAAK;MAC3BjC,aAAa,CAAC;QACbK,SAAS,EAAE4B;MACZ,CAAC,CAAC;IACH;EAAE,CACF,CAAC,GACC,IAAI,EACRlD,oDAAA,CAACY,8DAAW;IACXV,KAAK,EAAC,eAAe;IACrBlB,KAAK,EAAEkB,KAAM;IACbjB,QAAQ,EAAGkE,QAAQ,IAAK;MACvBlC,aAAa,CAAC;QACbf,KAAK,EAAEiD;MACR,CAAC,CAAC;IACH;EAAE,CACF,CAAC,EACFnD,oDAAA,CAACW,gEAAa;IACbT,KAAK,EAAC,YAAY;IAClBlB,KAAK,EAAEuC,SAAU;IACjBqB,OAAO,EAAEf,UAAW;IACpB5C,QAAQ,EAAGmE,YAAY,IAAK;MAC3BnC,aAAa,CAAC;QAAEM,SAAS,EAAE6B;MAAa,CAAC,CAAC;IAC3C;EAAE,CACF,CACS,CACO,CAAC,EACpBpD,oDAAA;IAAA,GAASkB;EAAU,GACjB,CAAC,MAAM;IACP,QAAQK,SAAS;MAChB,KAAK,QAAQ;QACZ,OACCvB,oDAAA;UAAQC,SAAS,EAAC;QAAyB,GAC1CD,oDAAA,iBAASE,KAAc,CAChB,CAAC;MAEX,KAAK,YAAY;QAChB,OACCF,oDAAA;UAAKC,SAAS,EAAC;QAA6B,GAC3CD,oDAAA,aACEiC,UAAU,CAACrC,GAAG,CAACjB,IAAI,IACnBqB,oDAAA;UAAIgD,GAAG,EAAErE,IAAI,CAACF;QAAG,GAChBuB,oDAAA,gBACCA,oDAAA;UAAOqD,IAAI,EAAC;QAAU,CAAE,CAAC,EACxB1E,IAAI,CAAC2E,IACA,CACJ,CACJ,CACE,CACA,CAAC;MAER;QACC,OAAO,IAAI;IACb;EACD,CAAC,EAAE,CACC,CACI,CAAC;AAEb;;;;;;;;;;;AClNA;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACsB;AACC;;AAEvB;AACA;AACA;AAC0B;AACU;;AAEpC;AACA;AACA;AACA;AACA;AACAC,oEAAiB,CAAEC,6CAAa,EAAE;EACjC;AACD;AACA;EACCC,IAAI,EAAE1C,6CAAIA;AACX,CAAE,CAAC;;;;;;;;;;;AClCH;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://query-taxonomy-filters/./src/components.js","webpack://query-taxonomy-filters/./src/edit.js","webpack://query-taxonomy-filters/./src/editor.scss?0339","webpack://query-taxonomy-filters/./src/index.js","webpack://query-taxonomy-filters/./src/style.scss?75bd","webpack://query-taxonomy-filters/external window [\"wp\",\"blockEditor\"]","webpack://query-taxonomy-filters/external window [\"wp\",\"blocks\"]","webpack://query-taxonomy-filters/external window [\"wp\",\"components\"]","webpack://query-taxonomy-filters/external window [\"wp\",\"compose\"]","webpack://query-taxonomy-filters/external window [\"wp\",\"coreData\"]","webpack://query-taxonomy-filters/external window [\"wp\",\"data\"]","webpack://query-taxonomy-filters/external window [\"wp\",\"element\"]","webpack://query-taxonomy-filters/external window [\"wp\",\"htmlEntities\"]","webpack://query-taxonomy-filters/external window [\"wp\",\"i18n\"]","webpack://query-taxonomy-filters/external window \"React\"","webpack://query-taxonomy-filters/webpack/bootstrap","webpack://query-taxonomy-filters/webpack/runtime/chunk loaded","webpack://query-taxonomy-filters/webpack/runtime/compat get default export","webpack://query-taxonomy-filters/webpack/runtime/define property getters","webpack://query-taxonomy-filters/webpack/runtime/hasOwnProperty shorthand","webpack://query-taxonomy-filters/webpack/runtime/make namespace object","webpack://query-taxonomy-filters/webpack/runtime/jsonp chunk loading","webpack://query-taxonomy-filters/webpack/before-startup","webpack://query-taxonomy-filters/webpack/startup","webpack://query-taxonomy-filters/webpack/after-startup"],"sourcesContent":["import { FormTokenField } from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n// Folked from https://github.com/WordPress/gutenberg/blob/d623dc1195a4499134f51fc713215174a4e669a6/packages/block-library/src/query/edit/inspector-controls/taxonomy-controls.js#L15\n// Helper function to get the term id based on user input in terms `FormTokenField`.\nconst getTermIdByTermValue = ( terms, termValue, name_field ) => {\n\t// First we check for exact match by `term.id` or case sensitive `term.name` match.\n\tconst termId =\n\t\ttermValue?.id || terms.find( ( term ) => term[name_field] === termValue )?.id;\n\tif ( termId ) {\n\t\treturn termId;\n\t}\n\n\t/**\n\t * Here we make an extra check for entered terms in a non case sensitive way,\n\t * to match user expectations, due to `FormTokenField` behaviour that shows\n\t * suggestions which are case insensitive.\n\t *\n\t * Although WP tries to discourage users to add terms with the same name (case insensitive),\n\t * it's still possible if you manually change the name, as long as the terms have different slugs.\n\t * In this edge case we always apply the first match from the terms list.\n\t */\n\tconst termValueLower = termValue.toLocaleLowerCase();\n\treturn terms.find(\n\t\t( term ) => term[name_field].toLocaleLowerCase() === termValueLower\n\t)?.id;\n};\n\n//Folked from https://github.com/WordPress/gutenberg/blob/d623dc1195a4499134f51fc713215174a4e669a6/packages/block-library/src/query/edit/inspector-controls/taxonomy-controls.js#L84\nexport const TaxonomyItem = ( { taxonomy_label, terms, value, onChange, name_field } ) => {\n\n\tif ( ! terms?.length ) {\n\t\treturn null;\n\t}\n\n\tconst onTermsChange = ( newTermValues ) => {\n\t\tconst termIds = new Set();\n        const termValues = new Set();\n\t\tfor ( const termValue of newTermValues ) {\n\t\t\tconst termId = getTermIdByTermValue( terms, termValue, name_field );\n\n\t\t\tif ( termId ) {\n\t\t\t\ttermIds.add( termId );\n                // The FormTokenField on change event is doing some strange thing. All the values inside the array other than the last one are returned as object.\n                termValues.add( termValue.value ? termValue.value : termValue );\n\t\t\t}\n\t\t}\n        \n\t\tonChange( Array.from( termIds ) );\n\t};\n\n    // Selects only the existing term ids in proper format to be\n\t// used in `FormTokenField`. This prevents the component from\n\t// crashing in the editor, when non existing term ids were provided.\n\tconst inputValue = value\n    .map( ( termId ) => terms.find( ( t ) => t.id === termId ) )\n    .filter( Boolean )\n    .map( ( term ) => ( { id: term.id, value: decodeEntities( term[name_field] ) } ) );\n\n\treturn (\n\t\t<div className=\"block-library-query-inspector__taxonomy-control\">\n\t\t\t<FormTokenField\n\t\t\t\tlabel={ taxonomy_label }\n\t\t\t\tvalue={ inputValue }\n\t\t\t\tsuggestions={ terms.map( ( t ) => t[name_field] ) }\n\t\t\t\tonChange={ onTermsChange }\n\t\t\t/>\n\t\t</div>\n\t);\n}","/**\n * Retrieves the translation of text.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-i18n/\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * React hook that is used to mark the block wrapper element.\n * It provides all the necessary props like the class name.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-block-editor/#useblockprops\n */\n\nimport { TaxonomyItem } from './components';\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { useInstanceId } from '@wordpress/compose';\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\nimport { PanelBody, SelectControl, TextControl, ToggleControl } from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\n\n/**\n * The edit function describes the structure of your block in the context of the\n * editor. This represents what the editor will render when the block is used.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-edit-save/#edit\n *\n * @param {Object}   props               Properties passed to the function.\n * @param {Object}   props.attributes    Available block attributes.\n * @param {Function} props.setAttributes Function that updates individual attributes.\n *\n * @return {Element} Element to render.\n */\nexport default function Edit({ attributes, setAttributes }) {\n\tconst blockProps = useBlockProps();\n\n\tconst { selectedTerms, instanceId, selectedTaxonomyType, label, childOnly, inputType, allTags } = attributes;\n\n\tconst query = {\n\t\tper_page: -1,\n\t\thideEmpty: true,\n\t\tcontext: 'view',\n\t};\n\n\tconst inputTypes = [\n\t\t{ label: 'Select (Single)', value: 'select' },\n\t\t{ label: 'Checkboxes (Multiple)', value: 'checkboxes' },\n\t];\n\n\tconst { records: categories } = useEntityRecords(\n\t\t'taxonomy',\n\t\t'category',\n\t\tquery\n\t);\n\n\tconst { records: tags } = useEntityRecords(\n\t\t'taxonomy',\n\t\t'post_tag',\n\t\tquery\n\t);\n\n\t// If childOnly is true, get the child terms of the selected terms\n\t// SelectedTerms is an array of term IDs, so we need to get the child terms of each term in the array\n\tconst childTerms = useSelect(\n\t\t(select) => {\n\t\t\tconst childTerms = [];\n\n\t\t\tif (childOnly) {\n\t\t\t\tfor (const termId of selectedTerms) {\n\t\t\t\t\tconst query = { parent: termId, per_page: -1 };\n\t\t\t\t\tconst fetchedTerms = select('core').getEntityRecords('taxonomy', selectedTaxonomyType, query);\n\t\t\t\t\tif (Array.isArray(fetchedTerms)) {\n\t\t\t\t\t\tchildTerms.push(...fetchedTerms);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst query = { per_page: -1, include: selectedTerms };\n\t\t\t\tconst fetchedTerms = select('core').getEntityRecords('taxonomy', selectedTaxonomyType, query);\n\t\t\t\tif (Array.isArray(fetchedTerms)) {\n\t\t\t\t\tchildTerms.push(...fetchedTerms);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn childTerms;\n\t\t},\n\t\t[selectedTerms, childOnly, selectedTaxonomyType]\n\t);\n\n\tconst newInstanceId = useInstanceId(Edit);\n\n\tif (null === categories || null === tags) {\n\t\treturn;\n\t}\n\n\tif ('' === selectedTaxonomyType) {\n\t\tsetAttributes({ selectedTaxonomyType: 'category' });\n\t}\n\n\tif (null === instanceId) {\n\t\tsetAttributes({ instanceId: newInstanceId });\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title=\"Settings\" initialOpen={true}>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel=\"Taxonomy Type\"\n\t\t\t\t\t\tvalue={selectedTaxonomyType}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: 'Category', value: 'category' },\n\t\t\t\t\t\t\t{ label: 'Tag', value: 'post_tag' }\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChange={(newType) => {\n\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\tselectedTaxonomyType: newType,\n\t\t\t\t\t\t\t\tselectedTerms: []\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t\t{'post_tag' === selectedTaxonomyType ? (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel=\"Include All Tags\"\n\t\t\t\t\t\t\tchecked={allTags}\n\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\tsetAttributes({ allTags: !allTags });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : ''}\n\t\t\t\t\t{'post_tag' === selectedTaxonomyType && allTags ? '' : (\n\t\t\t\t\t\t<TaxonomyItem\n\t\t\t\t\t\t\tkey={selectedTaxonomyType}\n\t\t\t\t\t\t\ttaxonomy_label={'post_tag' === selectedTaxonomyType ? 'Tags' : 'Categories'}\n\t\t\t\t\t\t\tname_field='name'\n\t\t\t\t\t\t\tterms={'post_tag' === selectedTaxonomyType ? tags : categories}\n\t\t\t\t\t\t\tvalue={selectedTerms}\n\t\t\t\t\t\t\tonChange={terms => {\n\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\tselectedTerms: terms\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{'category' === selectedTaxonomyType ? (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel=\"Child Categories Only\"\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\tchildOnly\n\t\t\t\t\t\t\t\t\t? 'The filter dropdown will include only child categories from selected categories.'\n\t\t\t\t\t\t\t\t\t: 'The filter dropdown will include only selected categories.'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={childOnly}\n\t\t\t\t\t\t\tonChange={(newChildOnly) => {\n\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\tchildOnly: newChildOnly\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel=\"Default Label\"\n\t\t\t\t\t\tvalue={label}\n\t\t\t\t\t\tonChange={(newLabel) => {\n\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\tlabel: newLabel\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel=\"Input Type\"\n\t\t\t\t\t\tvalue={inputType}\n\t\t\t\t\t\toptions={inputTypes}\n\t\t\t\t\t\tonChange={(newInputType) => {\n\t\t\t\t\t\t\tsetAttributes({ inputType: newInputType });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div {...blockProps}>\n\t\t\t\t{(() => {\n\t\t\t\t\tswitch (inputType) {\n\t\t\t\t\t\tcase 'select':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<select className='wp-query-filter__select'>\n\t\t\t\t\t\t\t\t\t<option>{label}</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'checkboxes':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className='wp-query-filter__checkboxes'>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t{childTerms.map(term => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={term.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='checkbox' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t{term.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})()}\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor. All other files\n * get applied to the editor only.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\nimport './editor.scss';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport metadata from './block.json';\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n} );","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkquery_taxonomy_filters\"] = globalThis[\"webpackChunkquery_taxonomy_filters\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["FormTokenField","decodeEntities","getTermIdByTermValue","terms","termValue","name_field","termId","id","find","term","termValueLower","toLocaleLowerCase","TaxonomyItem","taxonomy_label","value","onChange","length","onTermsChange","newTermValues","termIds","Set","termValues","add","Array","from","inputValue","map","t","filter","Boolean","createElement","className","label","suggestions","__","useSelect","useEntityRecords","useInstanceId","InspectorControls","useBlockProps","PanelBody","SelectControl","TextControl","ToggleControl","Fragment","Edit","attributes","setAttributes","blockProps","selectedTerms","instanceId","selectedTaxonomyType","childOnly","inputType","allTags","query","per_page","hideEmpty","context","inputTypes","records","categories","tags","childTerms","select","parent","fetchedTerms","getEntityRecords","isArray","push","include","newInstanceId","title","initialOpen","options","newType","__nextHasNoMarginBottom","checked","key","help","newChildOnly","newLabel","newInputType","type","name","registerBlockType","metadata","edit"],"sourceRoot":""}