(()=>{"use strict";var e,t={490:()=>{const e=window.wp.blocks,t=window.React,l=(window.wp.i18n,window.wp.data),n=window.wp.components,o=window.wp.htmlEntities,a=(e,t,l)=>{const n=t?.id||e.find((e=>e[l]===t))?.id;if(n)return n;const o=t.toLocaleLowerCase();return e.find((e=>e[l].toLocaleLowerCase()===o))?.id},r=({taxonomy_label:e,terms:l,value:r,onChange:c,name_field:s})=>{if(!l?.length)return null;const i=r.map((e=>l.find((t=>t.id===e)))).filter(Boolean).map((e=>({id:e.id,value:(0,o.decodeEntities)(e[s])})));return(0,t.createElement)("div",{className:"block-library-query-inspector__taxonomy-control"},(0,t.createElement)(n.FormTokenField,{label:e,value:i,suggestions:l.map((e=>e[s])),onChange:e=>{const t=new Set,n=new Set;for(const o of e){const e=a(l,o,s);e&&(t.add(e),n.add(o.value?o.value:o))}c(Array.from(t))}}))},c=window.wp.coreData,s=window.wp.compose,i=window.wp.blockEditor,d=window.wp.element,u=JSON.parse('{"UU":"ctlt/query-taxonomy-filter"}');(0,e.registerBlockType)(u.UU,{edit:function e({attributes:o,setAttributes:a}){const u=(0,i.useBlockProps)(),{selectedTerms:p,instanceId:m,selectedTaxonomyType:y,label:g,childOnly:w,inputType:h,allTags:f}=o,b={per_page:-1,hideEmpty:!0,context:"view"},{records:v}=(0,c.useEntityRecords)("taxonomy","category",b),{records:E}=(0,c.useEntityRecords)("taxonomy","post_tag",b),T=(0,l.useSelect)((e=>{const t=[];if(w)for(const l of p){const n={parent:l,per_page:-1},o=e("core").getEntityRecords("taxonomy",y,n);Array.isArray(o)&&t.push(...o)}else{const l={per_page:-1,include:p},n=e("core").getEntityRecords("taxonomy",y,l);Array.isArray(n)&&t.push(...n)}return t}),[p,w,y]),x=(0,s.useInstanceId)(e);if(null!==v&&null!==E)return""===y&&a({selectedTaxonomyType:"category"}),null===m&&a({instanceId:x}),(0,t.createElement)(d.Fragment,null,(0,t.createElement)(i.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:"Settings",initialOpen:!0},(0,t.createElement)(n.SelectControl,{label:"Taxonomy Type",value:y,options:[{label:"Category",value:"category"},{label:"Tag",value:"post_tag"}],onChange:e=>{a({selectedTaxonomyType:e,selectedTerms:[]})},__nextHasNoMarginBottom:!0}),"post_tag"===y?(0,t.createElement)(n.ToggleControl,{label:"Include All Tags",checked:f,onChange:()=>{a({allTags:!f})}}):"","post_tag"===y&&f?"":(0,t.createElement)(r,{key:y,taxonomy_label:"post_tag"===y?"Tags":"Categories",name_field:"name",terms:"post_tag"===y?E:v,value:p,onChange:e=>{a({selectedTerms:e})}}),"category"===y?(0,t.createElement)(n.ToggleControl,{label:"Child Categories Only",help:w?"The filter dropdown will include only child categories from selected categories.":"The filter dropdown will include only selected categories.",checked:w,onChange:e=>{a({childOnly:e})}}):null,(0,t.createElement)(n.TextControl,{label:"Default Label",value:g,onChange:e=>{a({label:e})}}),(0,t.createElement)(n.SelectControl,{label:"Input Type",value:h,options:[{label:"Select (Single)",value:"select"},{label:"Checkboxes (Multiple)",value:"checkboxes"}],onChange:e=>{a({inputType:e})}}))),(0,t.createElement)("div",{...u},(()=>{switch(h){case"select":return(0,t.createElement)("select",{className:"wp-query-filter__select"},(0,t.createElement)("option",null,g));case"checkboxes":return(0,t.createElement)("div",{className:"wp-query-filter__checkboxes"},(0,t.createElement)("ul",null,T.map((e=>(0,t.createElement)("li",{key:e.id},(0,t.createElement)("label",null,(0,t.createElement)("input",{type:"checkbox"}),e.name))))));default:return null}})()))}})}},l={};function n(e){var o=l[e];if(void 0!==o)return o.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,l,o,a)=>{if(!l){var r=1/0;for(d=0;d<e.length;d++){for(var[l,o,a]=e[d],c=!0,s=0;s<l.length;s++)(!1&a||r>=a)&&Object.keys(n.O).every((e=>n.O[e](l[s])))?l.splice(s--,1):(c=!1,a<r&&(r=a));if(c){e.splice(d--,1);var i=o();void 0!==i&&(t=i)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[l,o,a]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var o,a,[r,c,s]=l,i=0;if(r.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(s)var d=s(n)}for(t&&t(l);i<r.length;i++)a=r[i],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},l=globalThis.webpackChunkquery_taxonomy_filters=globalThis.webpackChunkquery_taxonomy_filters||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var o=n.O(void 0,[350],(()=>n(490)));o=n.O(o)})();