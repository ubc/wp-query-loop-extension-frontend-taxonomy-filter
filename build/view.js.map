{"version":3,"file":"view.js","mappings":";;;;;;;;;AAAA;;;;;;;;;;ACAA;;;;;;SCAA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;;;ACNA;AACA;AACA;AACyE;AAEzE,IAAIG,eAAe,GAAG,KAAK;AAE3B,MAAMC,kBAAkB,GAAGA,CAAEC,GAAG,EAAEC,aAAa,KAAM;EACpD,MAAMC,MAAM,GAAG,IAAIC,GAAG,CAACH,GAAG,CAAC;EAE3BC,aAAa,CAACG,OAAO,CAAEC,YAAY,IAAI;IACtCH,MAAM,CAACI,YAAY,CAACC,GAAG,CAACF,YAAY,CAACG,UAAU,EAAEH,YAAY,CAACI,KAAK,CAAC;EACrE,CAAC,CAAC;EAEF,OAAOP,MAAM;AACd,CAAC;AAEDP,+DAAK,CAAE,uBAAuB,EAAE;EAC/Be,OAAO,EAAE;IACRC,YAAY,EAAIC,KAAK,IAAM;MAC1BA,KAAK,CAACC,cAAc,CAAC,CAAC;MAEtB,MAAMC,OAAO,GAAGlB,oEAAU,CAAC,CAAC;;MAE5B;MACA,IAAKgB,KAAK,CAACG,MAAM,CAACC,OAAO,KAAK,OAAO,IAAIJ,KAAK,CAACG,MAAM,CAACE,IAAI,KAAK,UAAU,EAAG;QAC3E;QACA,MAAMC,YAAY,GAAGN,KAAK,CAACG,MAAM,CAACI,IAAI;QACtC;QACA,MAAMC,aAAa,GAAGC,QAAQ,CAACC,gBAAgB,CAAE,eAAeJ,YAAY,YAAa,CAAC;QAC1F;QACAJ,OAAO,CAACS,YAAY,GAAGC,KAAK,CAACC,IAAI,CAAEL,aAAc,CAAC,CAACM,GAAG,CAAEC,QAAQ,IAAIA,QAAQ,CAAClB,KAAM,CAAC;MACrF,CAAC,MAAM;QACNK,OAAO,CAACS,YAAY,GAAGX,KAAK,CAACG,MAAM,CAACN,KAAK;MAC1C;IACD;EACD,CAAC;EACDmB,SAAS,EAAE;IACV,CAACC,qBAAqBA,CAAA,EAAG;MACxB,MAAM;QAAEC;MAAI,CAAC,GAAGjC,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAE0B;MAAa,CAAC,GAAG3B,oEAAU,CAAC,CAAC;MAErC,IAAK,CAAEE,eAAe,EAAG;QACxBA,eAAe,GAAG,IAAI;QACtB,OAAO,CAAC;MACT;MAEA,IAAK,IAAI,KAAKgC,GAAG,EAAG;QACnB;MACD;MAEA,MAAMC,QAAQ,GAAGD,GAAG,CAACE,OAAO,CAC3B,wCACA,CAAC;MAEF,MAAM;QAAEtB;MAAQ,CAAC,GAAG,MAAM,8JAEzB;MAED,IAAIuB,UAAU,GAAGlC,kBAAkB,CAClCmC,MAAM,CAACC,QAAQ,EACf,CACC;QAAE3B,UAAU,EAAEuB,QAAQ,CAACK,YAAY,CAAE,uBAAwB,CAAC,GAAG,QAAQ,GAAGN,GAAG,CAACM,YAAY,CAAE,WAAY,CAAC;QAAE3B,KAAK,EAAEe,KAAK,CAACa,OAAO,CAAEd,YAAa,CAAC,GAAGA,YAAY,CAACe,IAAI,CAAE,GAAI,CAAC,GAAGf;MAAa,CAAC,EAC7L;QAAEf,UAAU,EAAEuB,QAAQ,CAACK,YAAY,CAAE,uBAAwB,CAAC,GAAG,OAAO;QAAE3B,KAAK,EAAE;MAAI,CAAC,CAExF,CAAC;MAED,MAAMC,OAAO,CAAC6B,QAAQ,CAAEN,UAAW,CAAC;IAErC;EACC;AAEH,CAAE,CAAC,C","sources":["webpack://query-taxonomy-filters/external module \"@wordpress/interactivity\"","webpack://query-taxonomy-filters/external import \"@wordpress/interactivity-router\"","webpack://query-taxonomy-filters/webpack/bootstrap","webpack://query-taxonomy-filters/webpack/runtime/make namespace object","webpack://query-taxonomy-filters/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","module.exports = import(\"@wordpress/interactivity-router\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext, getElement } from '@wordpress/interactivity';\n\nlet didRunInitially = false;\n\nconst updateURLParameter = ( url, urlParameters ) => {\n\tconst newUrl = new URL(url);\n\n\turlParameters.forEach( urlParameter => {\n\t\tnewUrl.searchParams.set(urlParameter.identifier, urlParameter.value);\n\t});\n\n\treturn newUrl;\n};\n\nstore( 'ctlt-query-tax-filter', {\n\tactions: {\n\t\tonChangeTerm: ( event ) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tconst context = getContext();\n\t\t\t\n\t\t\t// Check the element tag, if it's a checkbox, get the all the checked values.\n\t\t\tif ( event.target.tagName === 'INPUT' && event.target.type === 'checkbox' ) {\n\t\t\t\t// Get the name of the checkbox\n\t\t\t\tconst checkboxName = event.target.name;\n\t\t\t\t// Get all the checked values\n\t\t\t\tconst checkedValues = document.querySelectorAll( `input[name=\"${checkboxName}\"]:checked` );\n\t\t\t\t// Add the checked values to the selectedTerms array\n\t\t\t\tcontext.selectedTerm = Array.from( checkedValues ).map( checkbox => checkbox.value );\n\t\t\t} else {\n\t\t\t\tcontext.selectedTerm = event.target.value;\n\t\t\t}\n\t\t},\n\t},\n\tcallbacks: {\n\t\t*navigateToDestination() {\n\t\t\tconst { ref } = getElement();\n\t\t\tconst { selectedTerm } = getContext();\n\n\t\t\tif ( ! didRunInitially ) {\n\t\t\t\tdidRunInitially = true;\n\t\t\t\treturn; // Skip the first run on node creation\n\t\t\t}\n\n\t\t\tif ( null === ref ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst queryRef = ref.closest(\n\t\t\t\t'.wp-block-query[data-wp-router-region]'\n\t\t\t\t);\n\n\t\t\tconst { actions } = yield import(\n\t\t\t\t'@wordpress/interactivity-router'\n\t\t\t);\n\n\t\t\tlet navigateTo = updateURLParameter(\n\t\t\t\twindow.location,\n\t\t\t\t[\n\t\t\t\t\t{ identifier: queryRef.getAttribute( 'data-wp-router-region' ) + '-term-' + ref.getAttribute( 'filter-id' ), value: Array.isArray( selectedTerm ) ? selectedTerm.join( ',' ) : selectedTerm },\n\t\t\t\t\t{ identifier: queryRef.getAttribute( 'data-wp-router-region' ) + '-page', value: '1' },\n\t\t\t\t]\n\t\t\t);\n\n\t\t\tyield actions.navigate( navigateTo );\n\n\t\t},\n\t  },\n\t\n} );\n"],"names":["store","getContext","getElement","didRunInitially","updateURLParameter","url","urlParameters","newUrl","URL","forEach","urlParameter","searchParams","set","identifier","value","actions","onChangeTerm","event","preventDefault","context","target","tagName","type","checkboxName","name","checkedValues","document","querySelectorAll","selectedTerm","Array","from","map","checkbox","callbacks","navigateToDestination","ref","queryRef","closest","navigateTo","window","location","getAttribute","isArray","join","navigate"],"sourceRoot":""}